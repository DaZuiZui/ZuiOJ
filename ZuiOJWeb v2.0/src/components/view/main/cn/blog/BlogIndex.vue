<template>
    <div class="hello">
        <div>
            <Top></Top>
        </div>

        <!-- Main content -->
        <section  style="background-color:#f9f9f9">
            <br>
            <div class="text-center" style="1000px" >
                <div class="row mb-5 justify-content-center text-center" >
                    <div class="col-lg-9"  >                       
                        <br>
                        <div v-for="obj in topArticleList">
                          <div style="width:100%">
                          <div class="card">
                              <div class="card-body">
                                  <div style="float:left">
                                      <h4> 
                                        <el-link type="primary" style="font-size:20px" @click="viewBlog(obj.id)">
                                          {{obj.title}}
                                          üîù 
                                         </el-link>
                                        <span v-for="o in obj.language" class="badge badge-secondary"  style="margin-left:5px">
                                          <a v-if="o==1">Java</a> 
                                          <a v-else-if="o==2">C</a>
                                          <a v-else-if="o==3">C++</a>
                                          <a v-else-if="o==4">Python</a>
                                          <a v-else-if="o==5">Go</a>
                                          <a v-else-if="o==6">JS</a>
                                        </span>
                                      </h4>
                                  </div>
                                  <div style="both:clear">
                                      <br>
                                      <hr>
                                  </div>
                                  
                                  <div class="" style="height:80px;">
                                    <div style="float:left">
                                      {{obj.introduce}}  
                                    </div>
                                    
                                  </div>

                                  <div style="both:clear">
                                      <br>
                                      <hr>
                                      <div style="float:left">
                                         ÂàÜÁ±ª:
                                          <a v-if="obj.technologyType == 0">
                                              ÈóÆÁ≠î
                                          </a>
                                          <a v-if="obj.technologyType == 1">
                                              ÂêéÁ´Ø
                                          </a>
                                          <a v-if="obj.technologyType == 2">
                                              ÂâçÁ´Ø
                                          </a>
                                          <a v-if="obj.technologyType == 3">
                                              Êû∂ÊûÑ
                                          </a>
                                          <a v-if="obj.technologyType == 4">
                                              ÂÆâÂÖ®
                                          </a>
                                          <a v-if="obj.technologyType == 5">
                                              Êï∞ÊçÆÂ∫ì
                                          </a>
                                          <a v-if="obj.technologyType == 6">
                                              Â≠¶‰π†Êó•ËÆ∞
                                          </a>
                                          <a v-if="obj.technologyType == 7">
                                              Ë∏©ÂùëËÆ∞ÂΩï
                                          </a>
                                          <a v-if="obj.technologyType == 8">
                                              ÁÆóÊ≥ïÈóÆÈ¢ò
                                          </a>
                                          <a v-if="obj.technologyType == 9">
                                              È°πÁõÆ
                                          </a>
                                      </div>
                                   <br>
                                   <div style="both:clear;float:left">
                                      ÊñáÁ´†ÂàÜÁ±ª: 
                          
                                          <span  v-for="o in obj.articleType">
                                              <a v-if="o == 1">Ê†°Âõ≠‰∫§ÊµÅ</a>
                                              <a v-else-if="o == 2">Ê±ÇËÅå‰∫§ÊµÅ</a>
                                              <a v-else-if="o == 3">‰ø°ÊÅØÂ≠¶Èô¢ÊäÄÊúØ‰∫§ÊµÅ</a>
                                              <a v-else-if="o == 4">‰ø°ÊÅØÂ≠¶Èô¢‰∏ì‰∏öÁ§æÂõ¢</a>
                                              &nbsp;
                                          </span>
                                   </div>
                                  </div>

                                  <div style="float:right">
                                      ‰ΩúËÄÖ: {{obj.createByName}} 
                                  </div>
                              </div>
                            </div>   
                          </div>
                          <br>
                       </div>

                        <div v-for="(obj,index) in questionAnwserList" :key="index">
                            <div style="width:100%">
                            <div class="card">
                                <div class="card-body">
                                    <div style="float:left">
                                        <h4> 
                                          <el-link type="primary" style="font-size:20px" @click="viewBlog(obj.id)">{{obj.title}}</el-link>
                                          <span v-for="o in obj.language" class="badge badge-secondary"  style="margin-left:5px">
                                            <a v-if="o==1">Java</a> 
                                            <a v-else-if="o==2">C</a>
                                            <a v-else-if="o==3">C++</a>
                                            <a v-else-if="o==4">Python</a>
                                            <a v-else-if="o==5">Go</a>
                                            <a v-else-if="o==6">JS</a>
                                          </span>
                                        </h4>
                                    </div>
                                    <div style="both:clear">
                                        <br>
                                        <hr>
                                    </div>
                                    
                                    <div class="" style="height:80px;">
                                      <div style="float:left">
                                        {{obj.introduce}}  
                                      </div>
                                      
                                    </div>

                                    <div style="both:clear">
                                        <br>
                                        <hr>
                                        <div style="float:left">
                                           ÂàÜÁ±ª:
                                            <a v-if="obj.technologyType == 0">
                                                ÈóÆÁ≠î
                                            </a>
                                            <a v-if="obj.technologyType == 1">
                                                ÂêéÁ´Ø
                                            </a>
                                            <a v-if="obj.technologyType == 2">
                                                ÂâçÁ´Ø
                                            </a>
                                            <a v-if="obj.technologyType == 3">
                                                Êû∂ÊûÑ
                                            </a>
                                            <a v-if="obj.technologyType == 4">
                                                ÂÆâÂÖ®
                                            </a>
                                            <a v-if="obj.technologyType == 5">
                                                Êï∞ÊçÆÂ∫ì
                                            </a>
                                            <a v-if="obj.technologyType == 6">
                                                Â≠¶‰π†Êó•ËÆ∞
                                            </a>
                                            <a v-if="obj.technologyType == 7">
                                                Ë∏©ÂùëËÆ∞ÂΩï
                                            </a>
                                            <a v-if="obj.technologyType == 8">
                                                ÁÆóÊ≥ïÈóÆÈ¢ò
                                            </a>
                                            <a v-if="obj.technologyType == 9">
                                                È°πÁõÆ
                                            </a>
                                        </div>
                                     <br>
                                     <div style="both:clear;float:left">
                                        ÊñáÁ´†ÂàÜÁ±ª: 
                            
                                            <span  v-for="o in obj.articleType">
                                                <a v-if="o == 1">Ê†°Âõ≠‰∫§ÊµÅ</a>
                                                <a v-else-if="o == 2">Ê±ÇËÅå‰∫§ÊµÅ</a>
                                                <a v-else-if="o == 3">‰ø°ÊÅØÂ≠¶Èô¢ÊäÄÊúØ‰∫§ÊµÅ</a>
                                                <a v-else-if="o == 4">‰ø°ÊÅØÂ≠¶Èô¢‰∏ì‰∏öÁ§æÂõ¢</a>
                                                &nbsp;
                                            </span>
                                     </div>
                                    </div>

                                    <div style="float:right">
                                        ‰ΩúËÄÖ: {{obj.createByName}} 
                                    </div>
                                </div>
                              </div>   
                            </div>
                            <br>
                        </div>
                

                        <!--ÂàÜÈ°µÈÉ®ÂàÜ-->
                        <el-pagination
                          :page-size="10"
                          :pager-count="11"
                          @current-change="getMerchantInformation"
                          layout="prev, pager, next"
                          :total="count">
                      </el-pagination>
                    </div>
                </div>    
              &nbsp;
             
            </div>
        </section>
 
        <footer class="position-relative" id="footer-main">
            <Foot></Foot>
        </footer>
    </div>
  </template>
  
  <script>
  import Foot from '../../../../frame/blog/Foot.vue';
  import Top  from '../../../../frame/blog/Top.vue'
  import { synRequestGet, synRequestPost } from '../../../../../../static/request';
  export default {
    name: 'HelloWorld',
    components: {
           Foot,Top
      },
    data () {
      return {
        //È¢òËß£ÈõÜÂêà
        questionAnwserList: [],  
        //ÂÖ¨ÂºÄÈ¢òËß£ÊÄªÊï∞
        count: 0,
        //Ëé∑ÂèñÂàÜÈ°µÂ∞ÅË£ÖÁöÑËØ∑Ê±Ç‰Ωì
        getQuestionAnswerByPageBo: {
            start:      -1, //ÂºÄÂßãÊü•ËØ¢ÁöÑ‰ΩçÁΩÆ
            number:     10, //ÂàÜÈ°µ‰∏™Êï∞
            status:     0,  //Áä∂ÊÄÅ
            delFlag:    0,  //ÊòØÂê¶Â∑≤ÁªèÂà†Èô§
        },
        //ÁΩÆÈ°∂ÈõÜÂêà
        topArticleList: [],
      }
    },
    //Ëá™ÂêØÂä®
    mounted() {
       this.getMerchantInformation(1);
    },
    methods: {
        //ÂàõÂª∫È¢òËß£
        goCreateAnser(){
            //window.location.href='/cn/question/createAnser?id='+getQueryVariable("id")
            this.$router.push('/cn/question/CreateQuestionAnwer?id='+getQueryVariable("id"));
        },

        //Ë∑≥ËΩ¨ÊåáÂÆöÂàÜÈ°µÂàÜÊï∞
        async getMerchantInformation(val){   
            this.getQuestionAnswerByPageBo.start = (val-1)*10;

            let obj = await synRequestPost("/blog/getBlogPostsByPage",this.getQuestionAnswerByPageBo);
            this.count = obj.data.count;
            this.questionAnwserList = obj.data.data;
            //Ëé∑ÂèñÁΩÆÈ°∂ÊñáÁ´†
            this.getTopArticle();
        },
        //Êü•ÁúãÊú¨È¢òË¥°ÁåÆËÄÖÂõ¢Èòü
        goSolutionContributor(){
           this.$router.push("/cn/question/SolutionContributor?id="+getQueryVariable("id"));
        },
        //Êü•ÁúãÂçöÊñá
        viewBlog(id){
          this.$router.push("/cn/blog/view?id="+id);
        },

        //Ëé∑ÂèñÁΩÆÈ°∂ÊñáÁ´†
        async getTopArticle(){
          let obj = await synRequestGet("/topArticle/queryAllTopArticle");
          if(check(obj)){
              this.topArticleList = obj.data;
           
          }
        }
    }
  }
  </script>
  
  <!-- Add "scoped" attribute to limit CSS to this component only -->
  <style scoped>
  h1, h2 {
    font-weight: normal;
  }
  ul {
    list-style-type: none;
    padding: 0;
  }
  li {
    display: inline-block;
    margin: 0 10px;
  }
  a {
    color: #42b983;
  }
  </style>
  